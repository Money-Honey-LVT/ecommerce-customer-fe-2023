import{m as y,z as C,t as u,k as g,u as v,b as o,F as f,d as T,j as t,ai as c,G as x,c as b,C as P,T as k,i as D}from"./index-4732123a.js";import{u as F,P as M}from"./ProductCard-07518493.js";import{P as N}from"./product.actions-948b26f3.js";import{T as j}from"./TextInput-86f1386a.js";import{I as w}from"./IconSearch-b3c9f082.js";import{S as z}from"./Select-ac938913.js";import"./ColorSelector-092cc901.js";import"./Card-ee0b218a.js";import"./use-input-props-0443fea7.js";import"./Input-2a654f21.js";var G=y("filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);const A=D(s=>({hiddenMobile:{[s.fn.smallerThan("sm")]:{display:"none"}},hiddenDesktop:{[s.fn.largerThan("sm")]:{display:"none"}}})),E=()=>{var p;const{classes:s}=A(),i=C().categoryId||"",{categories:l}=u(e=>e.categories),a=l==null?void 0:l.filter(e=>e.categoryParentID==parseInt(i));a==null||a.unshift({id:parseInt(i),name:"Tất cả"});const[d,I]=F("",300),[n,m]=g.useState(a?(p=a[0])==null?void 0:p.id.toString():""),S=v();g.useEffect(()=>{S(N.SearchProduct({productName:d,categoryId:parseInt(n||i)}))},[d,n]);const{products:r,isFetching:K}=u(e=>e.products);return o(f,{children:[o(T,{children:[t(j,{icon:t(w,{}),radius:"md",w:300,placeholder:"Nhập từ khoá",defaultValue:d,onChange:e=>I(e.currentTarget.value)}),a?o(f,{children:[t(z,{data:a==null?void 0:a.map(e=>({value:e.id.toString(),label:e.name})),radius:"md",value:n,onChange:m,placeholder:"Chọn danh mục",className:s.hiddenMobile}),o(c,{children:[t(c.Target,{children:t(G,{className:s.hiddenDesktop})}),t(c.Dropdown,{children:a.map((e,h)=>t(c.Item,{onClick:()=>m(e.id.toString()),children:e.name}))})]})]}):null]}),r?(r==null?void 0:r.length)>0?t(x,{mt:20,children:r.map((e,h)=>t(b,{span:6,xs:6,md:3,lg:2.4,mb:20,children:t(M,{product:e})},h))}):t(P,{mt:50,children:t(k,{weight:"bold",size:"lg",children:"Không có sản phẩm nào"})}):null]})},U=E;export{U as default};
