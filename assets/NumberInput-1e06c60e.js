import{k as l,Y as Ve,f,r as a,i as Oe,h as R,l as De,Z as ke,$ as $e,a0 as Te}from"./index-4732123a.js";import{T as Ue}from"./TextInput-86f1386a.js";import{c as L}from"./Image-ff6b5269.js";function ne(){if(typeof window>"u")return"undetermined";const{userAgent:e}=window.navigator,t=/(Macintosh)|(MacIntel)|(MacPPC)|(Mac68K)/i,o=/(Win32)|(Win64)|(Windows)|(WinCE)/i,s=/(iPhone)|(iPad)|(iPod)/i;return t.test(e)?"macos":s.test(e)?"ios":o.test(e)?"windows":/Android/i.test(e)?"android":/Linux/i.test(e)?"linux":"undetermined"}function ze(e={getValueInEffect:!0}){const[t,o]=l.useState(e.getValueInEffect?"undetermined":ne());return Ve(()=>{e.getValueInEffect&&o(ne)},[]),t}const Be=(e,t,o)=>Number.isInteger(e)&&e>=0&&t===0?"numeric":!Number.isInteger(e)&&e>=0&&t!==0?"decimal":Number.isInteger(e)&&e<0&&t===0||!Number.isInteger(e)&&e<0&&t!==0?o==="ios"?"text":"decimal":"numeric";function oe({direction:e,size:t}){return f.createElement("svg",{style:{transform:e==="up"?"rotate(180deg)":void 0},width:a(t),height:a(t),viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const se={xs:a(20),sm:a(24),md:a(30),lg:a(34),xl:a(36)};var Le=Oe((e,{radius:t},{size:o})=>({rightSection:{display:"flex",flexDirection:"column",height:`calc(100% - ${a(2)})`,margin:a(1),overflow:"hidden",borderTopRightRadius:e.fn.radius(t),borderBottomRightRadius:e.fn.radius(t)},control:{margin:0,position:"relative",flex:"0 0 50%",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",width:R({size:o,sizes:se}),padding:0,WebkitTapHighlightColor:"transparent",borderBottom:`${a(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderLeft:`${a(1)} solid ${e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[4]}`,borderTop:0,borderRight:0,backgroundColor:"transparent",marginRight:a(1),color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,"&:not(:disabled):hover":{backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[0]},"&:disabled":{color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[4]}},controlUp:{},controlDown:{borderBottom:0}}));const Me=Le;var We=Object.defineProperty,Ke=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,ae=(e,t,o)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,He=(e,t)=>{for(var o in t||(t={}))le.call(t,o)&&ae(e,o,t[o]);if(E)for(var o of E(t))ue.call(t,o)&&ae(e,o,t[o]);return e},Fe=(e,t)=>Ke(e,Ae(t)),Ze=(e,t)=>{var o={};for(var s in e)le.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&E)for(var s of E(e))t.indexOf(s)<0&&ue.call(e,s)&&(o[s]=e[s]);return o};const je=e=>e||"",Ye=e=>{if(e==="-")return e;let t=e;t[0]==="."&&(t=`0${e}`);const o=parseFloat(t);return Number.isNaN(o)?"":e},ie={xs:a(10),sm:a(14),md:a(16),lg:a(18),xl:a(20)},qe={step:1,hideControls:!1,size:"sm",precision:0,noClampOnBlur:!1,removeTrailingZeros:!1,formatter:je,parser:Ye,type:"text"},Ge=l.forwardRef((e,t)=>{const o=De("NumberInput",qe,e),{readOnly:s,disabled:M,value:u,onChange:c,decimalSeparator:m,min:g,max:v,startValue:S,step:I,stepHoldInterval:x,stepHoldDelay:W,onBlur:K,onKeyDown:A,onKeyUp:H,hideControls:ce,radius:F,variant:V,precision:N,removeTrailingZeros:de,defaultValue:P,noClampOnBlur:fe,handlersRef:pe,classNames:Z,styles:j,size:y,rightSection:me,rightSectionWidth:Y,formatter:ge,parser:ye,inputMode:we,unstyled:q,type:be}=o,he=Ze(o,["readOnly","disabled","value","onChange","decimalSeparator","min","max","startValue","step","stepHoldInterval","stepHoldDelay","onBlur","onKeyDown","onKeyUp","hideControls","radius","variant","precision","removeTrailingZeros","defaultValue","noClampOnBlur","handlersRef","classNames","styles","size","rightSection","rightSectionWidth","formatter","parser","inputMode","unstyled","type"]),{classes:w,cx:G}=Me({radius:F},{classNames:Z,styles:j,unstyled:q,name:"NumberInput",variant:V,size:y}),_=(r,n)=>{if(r==="")return"";let i=r.toFixed(N);return n&&i.length<r.toString().length&&(i=r.toString()),de&&N>0&&(i=i.replace(new RegExp(`[0]{0,${N}}$`),""),(i.endsWith(".")||i.endsWith(m))&&(i=i.slice(0,-1))),i},ve=(r="")=>{let n=typeof r=="number"?String(r):r;return m&&(n=n.replace(/\./g,m)),ge(n)},Se=r=>{let n=r;return m&&(n=n.replace(new RegExp(`\\${m}`,"g"),".")),ye(n)},J=(r,n)=>ve(_(r,n)),[Ie,xe]=ke(!1),[d,Ne]=l.useState(typeof u=="number"?u:typeof P=="number"?P:""),[O,Q]=l.useState(()=>J(d)),X=l.useRef(),b=(r,n)=>{const i=J(r,n);i!==O&&Q(i),r!==d&&Ne(r)},D=typeof g=="number"?g:-1/0,k=typeof v=="number"?v:1/0,$=l.useRef();$.current=()=>{var r;let n;d===""?n=(r=S??g)!=null?r:0:n=parseFloat(_(L(d+I,D,k))),u===void 0&&b(n),c==null||c(n)};const T=l.useRef();T.current=()=>{var r;let n;d===""?n=(r=S??g)!=null?r:0:n=parseFloat(_(L(d-I,D,k))),u===void 0&&b(n),c==null||c(n)},$e(pe,{increment:$.current,decrement:T.current}),l.useEffect(()=>{typeof u=="number"||u===""?b(u,!0):u===void 0&&b(P??"",!0)},[u,Ie]);const U=W!==void 0&&x!==void 0,h=l.useRef(null),z=l.useRef(0),p=()=>{h.current&&window.clearTimeout(h.current),h.current=null,z.current=0},ee=r=>{r?$.current():T.current(),z.current+=1},re=r=>{if(ee(r),U){const n=typeof x=="number"?x:x(z.current);h.current=window.setTimeout(()=>re(r),n)}},C=(r,n)=>{r.preventDefault(),X.current.focus(),ee(n),U&&(h.current=window.setTimeout(()=>re(n),W))};l.useEffect(()=>(p(),p),[]);const Pe=f.createElement("div",{className:w.rightSection},f.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:d>=v,className:G(w.control,w.controlUp),onPointerDown:r=>{C(r,!0)},onPointerUp:p,onPointerLeave:p},f.createElement(oe,{size:R({size:y,sizes:ie}),direction:"up"})),f.createElement("button",{type:"button",tabIndex:-1,"aria-hidden":!0,disabled:d<=g,className:G(w.control,w.controlDown),onPointerDown:r=>{C(r,!1)},onPointerUp:p,onPointerLeave:p},f.createElement(oe,{size:R({size:y,sizes:ie}),direction:"down"}))),te=()=>{let r=O;(r[0]===`${m}`||r[0]===".")&&(r=`0${r}`);const n=parseFloat(_(parseFloat(Se(r)))),i=fe?n:L(n,D,k),B=Number.isNaN(i)?"":i;u===void 0?(b(B),c==null||c(B)):(c==null||c(B),xe.toggle())},_e=r=>{if(r.nativeEvent.isComposing)return;const i=r.target.value;Q(i)},Ce=r=>{te(),K==null||K(r)},Re=r=>{if(typeof A=="function"&&A(r),r.repeat&&U&&(r.key==="ArrowUp"||r.key==="ArrowDown")){r.preventDefault();return}s||(r.key==="ArrowUp"?C(r,!0):r.key==="ArrowDown"?C(r,!1):r.key==="Enter"&&!r.repeat&&te())},Ee=r=>{typeof H=="function"&&H(r),(r.key==="ArrowUp"||r.key==="ArrowDown")&&p()};return f.createElement(Ue,Fe(He({},he),{type:be,variant:V,value:O,disabled:M,readOnly:s,ref:Te(X,t),onChange:_e,onBlur:Ce,onKeyDown:Re,onKeyUp:Ee,rightSection:me||(M||s||ce||V==="unstyled"?null:Pe),rightSectionWidth:Y??`calc(${R({size:y,sizes:se})} + ${a(1)})`,radius:F,max:v,min:g,step:I,size:y,styles:j,classNames:Z,inputMode:we||Be(I,N,ze()),__staticSelector:"NumberInput",unstyled:q}))});Ge.displayName="@mantine/core/NumberInput";export{Ge as N};
